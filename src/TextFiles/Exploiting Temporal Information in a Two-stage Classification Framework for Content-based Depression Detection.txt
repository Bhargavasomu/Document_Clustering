Exploiting Temporal Information in a Two-Stage 

Classification Framework for Content-Based Depression 

Detection 

Yu-Chun Shen1, Tsung-Ting Kuo1, I-Ning Yeh2, Tzu-Ting Chen3, and Shou-De Lin1,* 

1 Department of Computer Science and Information Engineering,   

National Taiwan University, Taipei, Taiwan 

{r98922071,d97944007,sdlin}@csie.ntu.edu.tw 

2 St. Joseph Hospital, Yunlin, Taiwan 

yehining@gmail.com 

3 National Taiwan University Hospital Yun-Lin Branch, Yunlin, Taiwan 

tzuting.chen@gmail.com 

Abstract.  Depression  has  become  a  critical  illness  in  human  society  as  many 
people suffer from the condition without being aware of it. The goal of this paper 
is  to  design  a  system  to  identify  potential  depression  candidates  based  on  their 
write-ups.  To  solve  this  problem,  we  propose  a  two-stage  supervised  learning 
framework. The first stage determines whether the user possesses apparent nega-
tive emotion. Then the positive cases are passed to the second stage to further eva-
luate  whether  the  condition  is  clinical  depression  or  just  ordinary  sadness.  Our 
training data are generated automatically from Bulletin Board Systems. The con-
tent and temporal features are designed to improve the classification accuracy. Fi-
nally we develop an online demo system that takes a piece of written text as input, 
and outputs the likelihood of the author currently suffering depression. We con-
duct cross-validation and human study to evaluate the effectiveness of this system.   

Keywords: Depression Detection, Time Information, Text Classification. 

1 

Introduction   

Depression  has  gradually  become  a  common  mental  illness  in  the  modern  era.  Ac-
cording to World Health Organization, 121 million people are affected by depression, 
but less than 25% of those people receive adequate treatment (Saraceno, B. 2002). 

Depression is a type of mental disease without apparent symptoms, especially dur-
ing the early stage (Feightner et al. 1990). Sometimes the patients do not understand 
their  drastic  mood  swings  are  caused  by  depression.  With  the  goal  to  combat  this 
illness, this paper presents an early-detection mechanism that is capable of identifying 
potential depression cases given the written materials of the subjects.   

Depression detection has been studied for a while but most of the existing depres-
sion  detection  systems  are  not  fully  automatic.  Existing  systems  usually  require  the 
potential  subjects  to  take  online  evaluation  tests.  Then  a  simple  rule-based  system   
                                                           
* Corresponding author. 

J. Pei et al. (Eds.): PAKDD 2013, Part I, LNAI 7818, pp. 276–288, 2013. 
© Springer-Verlag Berlin Heidelberg 2013 

 

Exploiting Temporal Information in a Two-Stage Classification Framework 

277 

or  a  more  complicated  learning-based  system  can  be  designed.  Such  process  has   
significant limitations in real-world usage.  First, the potential candidates  need to be 
manually identified (usually by another human). Second, even if the potential candi-
dates can be identified, the validity of the test results remain to be questioned as the 
test takers may not take the test seriously.     

To  address  the  above  concerns,  we  design  a  supervised-learning  system  for  text-
based depression detection. Our system does not need the potential candidates to under-
go an evaluation, as it scans through their write-ups on public platforms (e.g. on blogs or 
BBS) to make a decision. To design such a system, there are several issues to address: 
Q1.  What  kind  of  classifier  should  be  designed?  A  binary  classification  tool  that 
separates  depression  from  non-depression?  A  multi-class  classifier  that  distin-
guishes multiple mental diseases including depression? Or something else?   

Q2.  Given the answer from Q1, how to obtain the labeled training data? 
Q3.  What kinds of features are useful for this task?   
Q4.  What kind of evaluation procedure is considered as a sound mechanism to as-

sess the quality of the system? 

In the following sections, we will discuss the above issues to design a text-based de-
pression detection framework. 

2  Methodology 

We investigate how to design a learning-based system that is capable of determining 
whether the author of a piece of writing is suffering or on the verge of suffering de-
pression. Furthermore, we investigate how the temporal information can be exploited 
in such task. 

Our training data is collected from the most popular bulletin board system (BBS) 
in Taiwan, the PTT. Figure 1 is a screenshot of the user interface of PTT. Due to the 
anonymous property of the cyber world, users are more willing to express their true 
feelings  on  web  platforms  than  they  do  in  the  real  world.  This  makes  such  public-
sharing  platform  a  good  source  of  data  for  depression  detection,  and  consequently 
enables our study on depression detection through text mining. 

In PTT, there are more than twenty thousand boards focusing on wide range of top-
ics, such as politics, sports, life and game. Over 1 million registered users post tens of 
thousands of new posts every day. The main reason we use data from PTT for depres-
sion analysis is twofold. First, there is an existing depression board, the Prozac board, 
on PTT for depressed persons to express their feelings and thoughts. Second, besides 
this board, there are other boards that allow users to express their feelings that can be 
exploited as the negative training data or as the testing platform. For example, there is 
a Sad board for sad people to share their feelings, and there is a Diary board that al-
lows users to write down what are on their minds. 

2.1  Methodology Overview 

To  solve Q1 as described previously, one conventional solution for depression detec-
tion is to treat this task as a binary classification problem. One can collect some posi-
tive and negative samples to train a classifier. However, it is non-trivial to choose the 
source of negative data for learning in this case, as there are many different kinds of 

278 

Y.-C. Shen et al. 

non-depression content to c
etc.).  If,  say,  a  bunch  of  te
very possible all non-techn
sion articles’. Similar drawb
writings are used as negati
negative  samples,  then  we 
there are significantly more
a multi-class classification 
classes to be distinguished f
 

choose from (e.g. technical papers, news, announceme
echnical  papers  are  chosen  as  negative  samples,  then  i
ical manuscripts (e.g. poetry) will be classified as ‘depr
backs happen to cases when news, novel, or other kind
ive examples. If a variety of different corpora are used
will  inevitably  face  a  serious  data-imbalance  problem
e negative instances than positive ones. Treating this task
problem brings up similar concern as there are too m
from depression. 

ents, 
it  is 
res-
s of 
d as 
m  as 
k as 
many 

Fig. 1. PTT bulletin 

board 

Fig. 2. Methodology overview 

 

ena-
tion 
rson 
uld, 
-ups 
or a 
mply 
n an 
fec-
tain 

To further investigate th
rios  of  our  system.  First,  a
when somebody intents to 
suffering depression. For su
to some extent, already carr
with negative emotion are w
non-expert to distinguish be
carry some negative though
automatic system for such 
tive  depression  detection  e
depressed emotion from tho
The  second usage scenar
amount of writings (most li
candidates for early treatme
tion system can act as an a
didates for further treatmen
articles from many other typ
To handle these two sce
shown  in  Figure  2).  In  the
input  manuscript  into  “neg
classified as negative-emot
“depression” or “sadness” c
dered  as  a  depression  cand
framework satisfies both sc
first  scenario  and  an  addit
used to filter non-negative 

he above issues, we first discuss two practical usage sce
as  we  believe  our  system  will  be  most  useful  in  situat
know  whether a target  manuscript is  written by a per
uch manuscript to be identified in the first place, it shou
ry certain negative information. However, not all write-
written by depression patients and it is generally hard fo
etween subjects suffering ‘potential depression’ or ‘sim
hts’. Therefore we believe it is very important to design
task. That says, this usage scenario suggests that an eff
engine  should  be  able  to  distinguish  writings  that  cont
ose that contain quasi-depressed emotions. 
rio is to allow the detection system to scan through a la
ikely crawled from the WWW) and highlight the poten
ent. Combining with a Web Crawler, the depression det
active detector that automatically identifies suspicious c
nt. In this case, the system needs to distinguish depress
pes of writings.   
narios, we design a two-stage classification framework 
e  first  stage,  we  train  an  emotion  classifier  to  classify 
gative-emotion”  or  “non-negative-emotion”.  Inputs  be
tion are then passed to the second stage, which contain
classifier to determine whether the author should be co
didate  or  simply  a  user  with  sad  emotion.  The  propo
cenarios as  we  need a sadness/depression detector for 
tional  positive-negative  emotion  detection  system  can
posts in the second scenario. Intuitively, the first classi

arge 
ntial 
tec-
can-
sion 

k (as 
the 
eing 
ns a 
nsi-
osed 
the 
n  be 
ifier 

 

Exploiting Tempora

al Information in a Two-Stage Classification Framework 

279 

deals with a simpler task th
are closely related concepts

han the second classifier, because depression and sadn
s that cannot be easily distinguished. 

ness 

2.2 

Feature Generation
n 

In the first stage, we exploi
IDF values of words as the 
tion 1 and Equation 2, ni,j i
articles.  In  equation  2,  the
people whose articles conta
                               

t only content information for classification. We chose T
feature representation (i.e. term features). Shown in Eq
s the frequency of term ti occurring in a person pj's writ
e  denominator  in  idf  equation  represents  the  number
ain the term ti. 

                         (cid:1872)(cid:1858)(cid:3036),(cid:3037)(cid:3404) (cid:3041)(cid:3284).(cid:3285)∑ (cid:3041)(cid:3286),(cid:3285)
                     (cid:1861)(cid:1856)(cid:1858)(cid:3036)(cid:3404)log
(cid:3286)
(cid:2869)
|(cid:4668)(cid:3037)(cid:1527)(cid:3047)(cid:3284)(cid:1488)(cid:3043)(cid:3285)(cid:4669)|                         

                                   

 

 

(1) 

(2) 

TF-
qua-
tten 
r  of 

             

In the second stage, we try 
temporal information to ha
and sadness. The intuition i
people not only in the  writ
produced. Below we will de
We first select two board
members consist of mostly 
nary sadness emotion (more
section  3.1).  Figure  3  show
clues.   

to exploit not only content-based unigram features but a
ndle a more difficult problem in distinguishing depress
is that people suffering from depression differ from norm
tten content, but also on the timing of such content be
escribe several of our observations in this aspect.   
ds from PTT for observation: Prozac and Sad board, wh
people suffering clinical depression and people with o
e detailed descriptions of these two boards will be stated
ws  two  of  many  examples  we  observed  that  contain  ti

hose 
rdi-
d in 
ime 

also 
sion 
mal 
eing 

In Figure 3(a), we obser
ever, on the Prozac board, 
time (from 18:00 to 6:00 n
nificant. Similarly in Figure
much  more  frequently  dur
trend.  Both  observations  m
better recognize depression

rve that people in both boards use the term “lonely”. Ho
the term is used significantly more frequently during ni
next day), but on the Sad board, such difference is not 
e 3(b), the clinically depressed persons use “out of brea
ring  the  night  time,  while  sad  persons  do  not  show  s
motivate  us  to  bring  the  temporal  information  into  play
 cases.   

ow-
ight 
sig-
ath” 
uch 
y  to 

 

 

 

(a). Frequency of the word ‘lo
In  Prozac  board,  the  freque
night  is  much  higher  than  tha
Sad board, the difference is no

onely’ being used. 
ency  of  usage  at 
at  of  daytime.  In 
ot significant. 

(b).  Frequency  of  the  phrase  ‘Out  of  bre
being  used.  In  Prozac  board,  the  frequency
usage at night is higher than that of daytime
Sad board, the difference is not significant. 

eath’
y  of
e. In

Fig

g. 3. Examples of the data observation 

280 

Y.-C. Shen et al. 

The posting time of a post on BBS, blogs, or micro-blogs is usually fine-grained, 
accurate  to  the  minutes  or  even  seconds.  To  incorporate  this  information  into  our 
model,  we  define  the  temporal  feature  as  a  pair  containing  the  term  itself  and  the   
time of it being posted. We encode the posting time into different spans as shown in 
Table 1. Then we can apply TF-IDF in equation 1 and 2 to generate the value of tem-
poral  features.  The  only  difference  is  that  now  ni,j  stands  for  the  frequency  of  a  " 
timeslot-term" pair. 

Category 

12Hour(6-18) 
12Hour(8-20) 
12Hour(10-22) 
6Hour(6-12) 
6Hour(8-14) 
6Hour(10-16) 
24Hour 
12Month 
4Season 
2Season 
Season change 
Workday-Weekend 

Table 1. Predefined temporal categories 

# 

2 
2 
2 
4 
4 
4 
24 
12 
4 
2 
2 
2 

Description 

6-18, 18-6 
8-20, 20-8 
10-22, 22-10 
6-12, 12-18, 18-24, 24-6 
8-14, 14-20, 20-2, 2-8 
10-16, 16-22, 22-4, 4-10 
24 hours 
12 months 
spring, summer, fall, winter 
spring-summer, fall-winter 
April+May+September+October, others 
workday, weekend 

Feature (tired) 
18-6 tired 
20-8 tired 
10-22 tired 
18-24 tired 
20-2 tired 
16-22 tired 
20 tired 
March tired 
Spring tired 
Spring-summer tired 
Others tired 
Workday tired 

 
Each of these temporal categories has its own meaning. The first three categories 
divide  a  day  into  two  sections,  “daytime”  vs.  “night”  or  “working  hours”  vs.  “non-
working hours”. The next 3 categories further separate a day into four sections. Next, 
we  use  more  fine-grained  slots  such  as  “24Hour”  and  “12Month”.  Units  such  as 
“4Season”,  “2Season”  and  “Season  change”  are  motivated  by  the  observation  that 
weather may affect human beings’ emotions, in particular for people suffering depres-
sion. Finally, we define the category “Workday-Weekend” to reflect the observation 
that  depressed  people  sometimes  suffer  occupational  function  impairment,  which 
leads to different mental conditions or behaviors between workday and weekend. 

There are 12 different categories in Table 1. Thus, one single term feature can be 
converted to 12 different temporal features.  Assuming there is a  message posted on 
Mon Mar 21 20:16:11 with a term tired, the resulting temporal features are listed in 
the right-most column in Table 1. 

3 

Experiment 

3.1  How the Training Data Can Be Obtained? 

We  conduct  experiment  on  PTT  data,  and  use  5-fold  cross  validation  to  obtain  the 
accuracy. As in the first stage, we hope to train a classifier that distinguishes messag-
es with negative emotions from those with non-negative emotions. We choose posts 
in  Gossiping  and  Happy  boards  on  PTT  to  represent  messages  with  non-negative 
emotions and posts from Prozac and Sad boards to represent the ones with negative 
emotions. The Gossiping board is chosen to be the data source not only because it is 
the  most  popular  board  on  PTT  but  also  due  to  the  variety  of  posts  with  different   

 

Exploiting Temporal Information in a Two-Stage Classification Framework 

281 

purposes and emotions that we believe are general enough to represent many different 
types of write-ups. 

In the second stage, we train a depression vs. sadness classifier. We use the posts 
from Prozac and Sad boards as the positive and negative examples respectively, while 
the former contains mostly depression posts and the latter contains mostly sad (but not 
necessarily  depressed)  messages.  Prozac  board  is  a  place  for  people  with  clinical 
depression or potential candidates to interact with each other, share their experiences 
and  express  their  emotions.  The  word  Prozac  is  the  name  of  medicine  for  treating 
depressive disorder. The categories of posts in Prozac board are clearly specified, as 
listed  in  Table  2.  Note  that  we  use  only  the  articles  from  the  cloudy  day  category, 
which contain posts created by people with depression to express their thoughts and 
feelings. Other categories such as information or sunny day are excluded while gene-
rating the training data to ensure the quality of the training data. Table 3 shows the 
basic statistics of the training data. 

Table 2. Categories of posts in Prozac board 

Self-induction 

Medical 

Experience 
Information 

Question 

Transcription 
Cloudy day 
Sunny day 

Chat 

For the new users to introduce themselves 
For the discussion of hospital, doctor, counseling, medicine and symptoms   
For the discussion of experience, treatment situation 
For news, information, research and books about depression 
For asking questions 
For transcription of posts from other boards 
For self-introduced users to vent bad emotions 
For self-introduced users to share good emotions 
For self-introduced users to use when other categories are not applicable 

Table 3. Basic statistics of training data 

Statistics 

Time period 
Posts number 
Users number 

Gossiping 
08/01~10/12 

Happy 

Prozac 

Sad 

10/01~10/12 

08/01~10/12 

10/01~10/12 

6505 
1699 

11209 
2695 

6015 
1027 

4900 
1652 

3.2 

Stage 1 – Negative vs. Non-negative Classifier 

Most of the posts in PTT are in Traditional Chinese. Therefore we focus on Chinese 
posts  in  this  experiment,  though  the  proposed  technique  is  language  universal.  We 
first  use  Yahoo’s  segmentation  API  service  to  perform  word-segmentation  on  the 
posts because of its stability and efficiency. We then filter out single-character terms 
in Chinese as they are  more likely to be stop-words  without apparent  meaning. Be-
sides, terms used by too few people (< 25) are removed to avoid over-fitting. In the 
end, 5622 unigram terms are chosen. 

Here  we  collect  all  posts  of  a  user  to  extract  the  unigram  features.  Note  that  the 
subject is persons not posts, because in practice it is more critical to know whether a 
person is a potential depression patient. We exploit linear SVM using Liblinear(Fan et 
al. 2008) for classification. Note that each feature is scaled to [0, 1]. The 5 fold cross 
validation  accuracy  reaches  96.17%,  which  means  negative-posts  and  non-negative-
posts can be easily separated based on content. 

282 

Y.-C. Shen et al. 

3.3 

Stage 2 – Depression vs. Sadness Classifier 

The feature generation process is the same as mentioned in previous section. Similar 
to what we did in stage 1, we first extract 2460 unigrams for learning. The results are 
shown  in  Table  4.  The  5-fold  cross  validation  accuracy  is  81.86%,  which  signifies 
that depression and sadness posts are indeed separable, but doing so is much harder 
than separating negative vs. non-negative write-ups. 

Table 4. Experiment results in stage 2 (term features only) 

CV accuracy(5 fold) 
CV AUC(5 fold) 

81.86% 
0.8863 

 
To  verify  the  quality  of  training  data  and  learning  process,  we  also  examine  the 
weight  of  each  feature.  Table  5  shows  the  top  40  depression  features,  and  Table  6 
shows the top 40 sad features. All features have been translated into English. 

Table 5. Top 40 depression features and weights 

Take medicine 

2.17  Normal people

Doctor 

Depression 

School 
Suicide 

Counseling 

Sick 
They 
Happy 

Trembling 

1.96 
1.79 
1.78 
1.62 
1.50 
1.44 
1.44 
1.42 
1.39 

Horrific 
Boyfriend 
Medicine 
Emotion 

Pain 

Psychologist 

Afraid 
Bedtime 
What if 

1.34 

1.27 
1.26 
1.24 
1.23 
1.20 
1.18 
1.17 
1.14 
1.09 

World 

Prozac 

Yesterday 
Squeeze out 

Clinic 
Destroy 
Patient 
Thought 
Ward mate 

Can’t hold out 

1.08 

1.06 
1.05 
1.02 
1.02 
1.02 
1.02 
1.00 
0.99 
0.98 

Day after 
tomorrow 

Crowd 

Dark night 

Subsist 

Tight Chest 

Agree 
State 
Stable 
Appetite 
Social 

0.98 

0.98 
0.98 
0.98 
0.97 
0.97 
0.96 
0.95 
0.95 
0.94 

Table 6. Top 40 sad features and weights 

Feel 

Put 

-1.24  Day 
-1.15  Can’t see 
-1.15 
-1.12  Memory 
-1.10  Really 
-1.08  And 
-1.03 
Tear 
-1.02 
Slowly 
-1.02  Children 
-1.01 

Future 

-1.01 
-1.00 
-1.00 
-0.99 
-0.98 
-0.97 
-0.96 
-0.95 
-0.94 
-0.94 

Opportunity 
Immediately 
Misunderstand 
Time 
A little 
Relieved 
Sorry 
Popular feeling 
Try one’s best 
Outcome 

-1.70  Cant’ let go 
-1.37  Hesitate 
-1.37  Mood 
-1.31 
-1.30  Quietly 
-1.27  Think 
-1.27  Actual 
-1.26 
Future 
-1.26  Always 
-1.24  Affair 

Miserable 
Cheer up 
We 
Hope 
Torture 
Sad 
Broken-heart 
Such 
Obviously 
Exaggerate 
 
From the top 50 depression features, we can see that some of them are related, such 
as  depression,  suicide  and  pain;  some  are  related  to  somatic  symptoms  like  chest 
tightness  and  appetite;  and  some  provide  more  insights  into  the  mental  world  of 
people  with  depression  such  as  terms  including  normal  people,  squeeze  out,  social 
and  crowd.  The  term  knife  might  indicate  the  most  common  tool  they  used  or  im-
agined to hurt themselves with. Furthermore, dark night, destroy, unable to hold out 
and terror show the darkness and fear inside their minds. On the other hand, the top 
keywords for sad posts are more general. 

-0.92 
-0.92 
-0.90 
-0.90 
-0.90 
-0.90 
-0.88 
-0.87 
-0.86 
-0.85 

 

Exploiting Temporal Information in a Two-Stage Classification Framework 

283 

Table 7. Results of using temporal features only Table  8.  Results  of  using  both  term  features 

and temporal features 

Feature 
Term 
12Hour(6-18) 
12Hour(8-20) 
12Hour(10-22) 
6Hour(6-12) 
6Hour(8-14) 
6Hour(10-16) 
24Hour 
12Month 
4Season 
2Season 
Season change 
Workday 
All 
 
 

 

# 
2460 
4920 
4920 
4920 
9833 
9812 
9812 
49644 
28759 
9839 
4920 
4920 
4920 
147237 

Accuracy  AUC 
81.86% 
81.97% 
80.55% 
80.55% 
81.34% 
80.55% 
80.55% 
76.15% 
78.09% 
80.03% 
80.81% 
80.93% 
80.89% 
84.47% 

0.8863 
0.8817 
0.8817 
0.8790 
0.8897 
0.8746 
0.8746 
0.8109 
0.8439 
0.8711 
0.8797 
0.8825 
0.8821 
0.9167 

Feature 
Term 
12Hour(6-18) 
12Hour(8-20) 
12Hour(10-22) 
6Hour(6-12) 
6Hour(8-14) 
6Hour(10-16) 
24Hour 
12Month 
4Season 
2Season 
Season change 
Workday 
All 
 
 

Accuracy  AUC 
# 
81.86% 
2460 
82.34% 
7380 
82.34% 
7380 
81.71% 
7380 
82.79% 
12290 
83.58% 
12293 
82.79% 
12272 
82.38% 
52104 
83.20% 
31219 
82.98% 
12299 
81.71% 
7380 
81.49% 
7380 
7380 
81.34% 
149697  84.51% 

0.8863 
0.8931 
0.8940 
0.8892 
0.8987 
0.9089 
0.8970 
0.8980 
0.9033 
0.8941 
0.8887 
0.8915 
0.8882 
0.9176 

(a). The input screen 

(b). System output 

 

Fig. 4. Screenshots of the demo system 

We then conduct experiments to observe the performance of using only temporal 
features.  The  results  are  shown  in  Table  7.  Note  that  the  accuracies  are  not  signifi-
cantly higher than that without temporal features. We believe it might due to the lack 
of sufficient data to train such fine-grained feature set, as the experiments also show 
that the more fine-grained a temporal category is (e.g. 24 hours, 12 month), the lower 
the accuracy it produces. However, when both term features and temporal features are 
exploited (see Table 8), the performance does show consistent improvement. In most 
of the temporal categories, we receive higher accuracy than using only term features, 
and the highest accuracy lies in “6Hour(8-14)” category. If we include all 12 temporal 
features,  the  accuracy  can  be  boosted  to  84.51%,  which  is  significantly  higher  than 
using only term features. 

284 

Y.-C. Shen et al. 

4 

System Demo an

nd Manual Evaluation 

To further confirm the effec
demo  and  manual  evaluati
People can simply copy/pa
There is no need to fill in an
Figure  4  shows  the  scre
timestamp are submitted, th
of the subject possessing ne

ctiveness of our model, we construct a real-time system
ion.  The  user  interface  of  the  system  can  be  seen  bel
aste user posts into the window and submit for evaluati
ny personal information or questionnaires. 
eenshots  of  our  demo  system.  Once  the  post  content 
he system evaluates the posts and outputs the probabili
egative emotion and depression. 

m for 
ow. 
ion. 

and 
ities 

4.1  Manual Evaluation
n 

We  extract  posts  from  ano
our  system  can  identify  so
writings. Diary board is a p
ings and thoughts. People h
less, we believe that among
small  fraction  of  them  suff
system can identify some o
2071 users. Figure 5 illustra
 

other  board on  PTT,  the  Diary  board,  to  evaluate  whet
ome  potential  depression  candidates  based  on  their  di
place for PTT users to write things about their lives, fe
have various reasons to post on the Diary board. Nevert
g the users who post on the Diary board, there might b
ffering  from  depression,  and  we  want  to  test  whether 
f them. We collect 15374 posts from the Diary board, to
ates the flowchart of manual evaluation. 

ther 
iary 
feel-
the-
be a 
our 
otal 

Fi

ig. 5. Flowchart of manual evaluation 

 

We feed the posts from 
our  two-stage  classifier.  W
diagnose  (based  on  the  wr
identified are truly potentia
knowledge  to  diagnose  dep
read a brief document abou
Diagnostic and Statistical M
ican  Psychiatric  Associati
choose  from  four  options:
depression, and no depressi
Table 9 shows the diagno
as “major depression” if at
depression” if at least one o
top suspects our system ide

the Diary board into our system, and rank the users us
We  then  asked  2  psychiatrists  and  8  ordinary  evaluators
ritings)  whether  the  top  suspicious  candidates  our  syst
al depression candidates. Since ordinary evaluators lack 
pression,  before  making  the  evaluation  they  are  asked
ut the diagnosis principle released in the fourth edition
Manual of Mental Disorders (DSM IV) published by Am
on  (2000).  After  reading  the  posts,  evaluators  have
:  non-diagnosable,  major  depression,  moderate  or  mi
ion. 
osis results of two psychiatrists. Note that we regard a c
t least one of the doctors thinks so, or “moderate or mi
of the doctors thinks so. The results show that out of the
entified, 18 of them do possess some depression sympto

sing 
s  to 
tem 
the 
d  to 
n of 
mer-
e  to 
inor 

case 
inor 
e 30 
oms. 

 

Exploiting Temporal Information in a Two-Stage Classification Framework 

285 

The agreement is even higher (21/30) for non-expert evaluators (see Table 10). The 
manual  evaluation  demonstrates  that  our  system  can  effectively  identify  potential 
subjects who are suffering depression but are unaware of it from their writings.     

 

Table 9. Diagnosis of 2 doctors 

Table 10. Diagnosis of 8 ordinary raters 

30 detected users 

major depression 
moderate and minor depression 
no depression 
non-diagnosable 

9 
9 
12 
0 

30 detected users 

major depression 
moderate and minor depression 
no depression 
non-diagnosable 

7 
14 
9 
0 

 

5 

Related Work 

5.1  Automated Depression Detection 

Neuman and Kedma (2010) propose a system called Pedesis to automatically detect 
users  with depression on the  web, specifically on blogs. Their  main idea is that de-
pression  can  be  hidden  in  some  metaphors,  which  implies  that  obvious  depressed 
terms  are  not  the  only  indicators.  By  the  help  of  a  search  engine,  they  extract  sen-
tences in the form of “depression is like *”, and identify some popular metaphors for 
depression such as black hole or dark cloud. These metaphors are then used as key-
words to identify users with depression. This knowledge-driven method is fundamen-
tally different from our learning-based method. 

There are researches applying machine learning methods for depression detection. 
We  can  classify  them  into  four  categories  based  on  the  sources  used  for  detection: 
text, speech, facial expression and electroencephalogram (EEG). 

Text. Jarrold et al. (2010) investigate whether language features can be used to di-
agnose depression. They use only binary classification and did not include temporal 
information in the features. Besides, the corpus they  use  takes lots of time and effort 
to create,  while  we  use  PTT which  contains a  gradually increasing resource  whose 
data  as  well  as  labels  can  be  extracted  automatically  with  limit  amount  of  efforts. 
Aamodt et al. (2010) develop a decision support system for depression diagnosis us-
ing case-based reasoning. However, to compare a new case with past cases, the sys-
tem requires the patient to fill out a questionnaire first,  thus the usage and coverage is 
limited. 

Speech. Based on the theory that people with depression have slow and monoton-
ous voice, Low et al. (2010) use speech characteristics as features for  depression  de-
tection  and  compare  performances  of  different  feature  combinations.  Their  experi-
ments  show  MFCC  and  short  time  energy  outperform  other  features.  Sanchez  et  al. 
(2011)  successfully  exploit  prosodic  and  spectral  speech  features  to  decide  whether 
the speaker is depressed.   

Facial expression. Cohn et al. (2009) consider not only verbal features but also fa-
cial actions to perform depression detection. They found both manual FACS coding 
and active appearance modeling (AAM) are correlated with depression. Maddage et 
al. (2009) also have similar idea of using facial features for depression detection. 

286 

Y.-C. Shen et al. 

EEG. Hosseinifard et al. (2011) use EEG signal as the features for depression clas-
sification and achieve high accuracy in the experiments. Unfortunately, a depression 
detection  system  like  this  can  hardly  be  used  as  screening  tool  for  large  amount  of 
candidates.   

The related work shows that different sources of information can serve as the clue 
for depression detection. Our work is novel because we have not yet found any work 
that  proposes  similar  two-stage  online  screening  framework  with  empirical  demon-
stration on the effectiveness of the designed temporal features. 

5.2  Temporal Information in Depression 

Early studies have suggested that depression might be a seasonal variation disorder. 
Eastwood  and  Stiasny  (1978)  conduct  an  analysis  of  hospital  admission  of  neurotic 
and endogenous depression, and reported significant peaks in spring and fall. Morken 
et al. (2002) focus on monthly variation of depression, with gender information also 
considered. They find that depression admission for women reaches highest peak in 
November, and for men, in April. Both studies have confirmed a correlation between 
incidence of depression and time. Kerkhofs et al. (1991) investigate the 24 hour sleep 
patterns of 22 people, with 12 of them having major depressive disorder and 10 being 
normal people. The result shows a difference of sleeping behavior for the two groups. 
Normal people tend to take a nap in the early afternoon, and depressed people have no 
consistent sleeping period. If a person naps in the morning more often, indicating that 
the person lacks sleep at night, the probability of depression might be higher. These 
researches  indicate  the  existence  of  time  clues  for  detecting  depression  and  non-
depression  candidates,  which  strengthen  our  proposal  to  introduce  the  temporal  in-
formation as features. 

6 

Conclusion 

The main contributions of this paper are listed below:   
1.  We  propose  two  practical  real-world  usage  scenarios  for  depression  detection, 

and design a novel two-stage learning framework based on such scenarios. 

2.  We design a strategy to incorporate temporal information into the content feature 

and improve the detection accuracy significantly. 

3.  We identified an important resource, namely BBS, which allows us to automati-
cally extract data and labels for training and testing. Furthermore, the data grows 
daily, which means one can obtain more training data to enhance the performance 
of  the  system.  Such  resources  can  potentially  be  used  for  other  classification 
tasks because there are thousands of boards in this system, and one can easily ob-
tain labeled data of specific purpose to facilitate training and testing. 

4.  We  developed  an  online  real-time  depression  detection  engine  which  does  not 
require the users to fill out any questionnaires or reveal their identities. For eval-
uation, we conduct cross-validation on the PTT dataset and find experts and nor-
mal people to judge the usability of the system. The results show that our system 
can indeed discover potential  or  hidden depression candidates that are otherwise 
hard to find. 

 

Exploiting Temporal Information in a Two-Stage Classification Framework 

287 

The framework, data, and features we have proposed can easily be applied to design 
detection engines for other kinds of mental diseases such as delusional disorder, schi-
zophrenia, anxiety disorder, etc. In the future, we plan to integrate other dimension of 
information  into  our  system  including  the  weather  and  geographical  information, 
which we believe are also useful clues for depression detection. 

Acknowledgements. This work was supported by National Science Council, National 
Taiwan University and Intel Corporation under Grants NSC101-2911-I-002-001, 
NSC101-2628-E-002-028-MY2 and NTU102R7501. 

References 

1.  Aamodt, A., Gundersen, O.E., Loge, J.H., Wasteson, E., Szczepanski, T.: Case-Based Rea-
soning for Assessment and Diagnosis of Depression in Palliative Care. In: The Internation-
al Symposium on Computer-Based Medical Systems, pp. 480–285 (2010) 

2.  American Psychiatric Association, Diagnostic and Statistical Manual of Mental Disorders, 

4th edn., Text Revision. American Psychiatric Association, Washington, DC (2000) 

3.  Cohn, J.F., Kruez, T.S., Matthews, I., Yang, Y., Nguyen, M.H., Padilla, M.T., Zhou, F.,   

De la Torre, F.: Detecting Depression from Facial Actions and Vocal Prosody. In: Interna-
tional Conference on Affective Computing and Intelligent Interaction (2009) 

4.  Eastwood, M.R., Stiasny, S.: Psychiatric Disorder, Hospital Admission, and Season. Arc-

hives of General Psychiatry 35, 769–771 (1978) 

5.  Fan, R.E., Chang, K.W., Hsieh, C.J., Wang, X.R., Lin, C.J.: LIBLINEAR: A Library for 

Large Linear Classification. Journal of Machine Learning Research 9, 1871–1874 (2008) 

6.  Feightner, J.W., Worrall, G.: Early Detection of Depression by Primary Care Physicians. 

Can. Med. Assoc. J. 142, 1215–1220 (1990) 

7.  Hosseinifard, B., Moradi, M.H., Rostami, R.: Classifying Depression Patients and Normal 
Subjects Using Machine Learning Techniques. In: Iranian Conference on Electrical Engi-
neering, pp. 1–4 (2011) 

8.  Jarrold, W.L., Peintner, B., Yeh, E., Krasnow, R., Javitz, H.S., Swan, G.E.: Language Ana-
lytics for Assessing Brain Health: Cognitive Impairment, Depression and Pre-symptomatic 
Alzheimer’s Disease. Brain Informatics, 299–307 (2010) 

9.  Kerkhofs,  M.,  Linkowski,  P.,  Lucas,  F.,  Mendelwicz,  J.:  Twenty-Four-Hour  Patterns  of 

Sleep in Depression. Sleep 14, 501–506 (1991) 

10.  Low, L.A., Maddage, N.C., Lech, M., Sheeber, L., Allen, N.: Influence of Acoustic Low-
Level Descriptors in the Detection of Clinical Depression in Adolescents. In: ICASSP, pp. 
5154–5157 (2010) 

11.  Maddage, N.C., Senaratne, R., Low, L.A., Lech, M., Allen, N.: Video-based Detection of 
the  Clinical  Depression  in  Adolescents.  In:  International  Conference  on  Engineering  in 
Medicine and Biology Society, pp. 3723–3726 (2009) 

12.  Morken, G., Lilleeng, S., Linaker, L.M.: Seasonal Variation in Suicides and in Admissions 

to Hospital for Mania and Depression. Journal of Affective Disorders 69, 39–45 (2002) 

13.  Neuman, Y., Kedma, G., Cohen, Y., Nave, O.: Using Web-Intelligence for Excavating the 
Emerging Meaning of Target-Concepts. In: Proceedings of the IEEE/WIC/ACM Interna-
tional  Conference  on  Web  Intelligence  and  Intelligent  Agent  Technology,  pp.  22–25 
(2010) 
 

288 

Y.-C. Shen et al. 

14.  PTT, http://www.ptt.cc/index.html (retrieved June 27, 2011) 
15.  Sanchez, M.H., Vergyri, D., Ferrer, L., Richey, C., Garcia, P., Knoth, B., Jarrold, W.: Us-
ing  Prosodic  and  Spectral  Features  in  Detecting  Depression  in  Elderly  Males.  In: 
INTERSPEECH, pp. 3001–3004 (2011) 

16.  Saraceno,  B.:  The  WHO  World  Health  Report  2001  on  mental  health.  Epidemiol.   

Psychiatr. Soc. 11, 83–87 (2002) 


