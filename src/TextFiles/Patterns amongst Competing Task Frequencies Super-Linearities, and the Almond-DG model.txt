Patterns amongst Competing Task Frequencies:
Super-Linearities, and the Almond-DG Model

Danai Koutra1,(cid:2), Vasileios Koutras2,

B. Aditya Prakash3, and Christos Faloutsos1

1 Computer Science Dept., Carnegie Mellon Univ.

2 Dept. of Accounting & Finance, Athens Univ. of Econ. & Bus.

{danai,christos}@cs.cmu.edu

3 Computer Science Department, Virginia Tech.

vkoutras@aueb.gr

badityap@cs.vt.edu

Abstract. If Alice has double the friends of Bob, will she also have dou-
ble the phone-calls (or wall-postings, or tweets)? Our ﬁrst contribution is
the discovery that the relative frequencies obey a power-law (sub-linear,
or super-linear), for a wide variety of diverse settings: tasks in a phone-
call network, like count of friends, count of phone-calls, total count of
minutes; tasks in a twitter-like network, like count of tweets, count of
followees etc. The second contribution is that we further provide a full,
digitized 2-d distribution, which we call the Almond-DG model, thanks
to the shape of its iso-surfaces. The Almond-DG model matches all our
empirical observations: super-linear relationships among variables, and
(provably) log-logistic marginals. We illustrate our observations on two
large, real network datasets, spanning ∼ 2.2M and ∼ 3.1M individu-
als with 5 features each. We show how to use our observations to spot
clusters and outliers, like, e.g., telemarketers in our phone-call network.

1

Introduction

If ‘Alice’ has 50 contacts and did 100 phonecalls to them, what should we expect
for ‘Bob’, who has twice the contacts? One would expect a linear relationship
(double the contacts, double the phonecalls). However, we show that in numerous
settings, the relationship is a power law, being sub- or super-linear.

Useful as it may be for point estimates, the power-law relationship cannot give
us any estimate for the variance. How would we model such joint distributions,
(cid:2) We would like to gratefully acknowledge the organizers of KDD Cup 2012 as well
as Tencent Inc. for making the datasets available. Funding was provided by the
U.S. Army Research Oﬃce (ARO) and Defense Advanced Research Projects Agency
(DARPA) under Contract Number W911NF-11-C-0088. This work is also partially
supported by an IBM Faculty Award and a grant from the VT College of Engineer-
ing. The content of the information in this document does not necessarily reﬂect
the position or the policy of the Government, and no oﬃcial endorsement should be
inferred. The U.S. Government is authorized to reproduce and distribute reprints
for Government purposes notwithstanding any copyright notation here on.

J. Pei et al. (Eds.): PAKDD 2013, Part I, LNAI 7818, pp. 201–212, 2013.
c(cid:2) Springer-Verlag Berlin Heidelberg 2013

202

D. Koutra et al.

(a) Super-linear Rel. Frequency

(b) log-logistic marginals

Fig. 1. Illustration of super-linearity and goodness of our proposed Almond-DG. (a)
Power-law relationship between count of tweets and count of retweets for each user
in Tencent-Weibo (log-log scales). (b) Marginal PDF of the retweets, in log-log scales:
real (in green triangles); generated by Almond-DG (in blue circles).

like, say, the number of contacts vs. number of phone-calls? What can we say
about their marginals? They are deﬁnitely not Gaussian. Do they follow a Pareto
(power-law) distribution in their marginals? What about the joint distribution?

The questions we want to answer here are:

1. Q1: Patterns: if ’Alice’ executes task x (say, phone call) for nx times, how

many times ny does she do task y (say, send an sms)?

2. Q2: Distribution estimate: What is the appropriate 2-d distribution to
ﬁt real, 2-d points (like, say <# tweets, # retweets> in the twitter setting)?
Multivariate Gaussian fails miserably, due to heavy tails in real data.

3. Q3: Practical use: Can we answer “what-if” scenarios, and ﬁnd anomalies?

Our contributions are exactly the answers to the above questions:

– A1: Patterns: We observe power law relationships between tasks competing

for a person’s resources (e.g., time).

– A2: Distribution Estimate: We propose the Almond-DG distribution,
which uses the lesser-known tool of copulas, and has all the properties we
observed in real data: the super-linear relationship, and also, log-logistic
marginals (which are prevalent in many real-world datasets).

– A3: Practical use: Our Almond-DG ﬁts several, diverse real datasets.

We show how to spot outliers, and how to answer what-if questions.

We report results from two large, real, diverse network datasets. The ﬁrst spans
∼ 3.1M users and is on a phone-call dataset; for each customer, we study the
count of distinct contacts, phonecalls, text messages, and the total minutes. The
second is from Tencent-Weibo network, a Chinese version of TwitterTM, with
count of tweets, re-tweets, followees etc. per user. Figure 1 illustrates our main
ideas and discoveries: Figure 1(a) depicts the power-law relationship between
count of tweets and count of retweets. Both axes are logarithmic; each red square
is the conditional average of tweets, for the given count of retweets. The last few
points are noisy, because of extreme-value eﬀects (there are very few people
with so many re-tweets, and they dominate the average). Figure 1(b) shows the
marginal PDF of the retweets, again in log-log scales. The green triangles are the

Patterns amongst Competing Tasks Frequencies

203

real distribution, while the blue circles correspond to synthetic data, generated
by our proposed Almond-DG. Notice that (i) the real distribution has a power-
law tail, but it tilts in the beginning (top concavity) and (ii) our synthetic data
ﬁt well. Table 1 gives the major symbols we use and their deﬁnitions.

Symbol
FX (·),
FD(·)
ax, ay
bx, by
C(·, ·)

θ

SuRF

Almond

Table 1. Symbols and deﬁnitions

Deﬁnition

cumulative distribution function (CDF) for:
(a) random variable X or (b) distribution D (e.g., FLL = CDF of log-logistic)
location parameter of log-logistic random variables X & Y
scale parameter of log-logistic random variables X & Y
copula: 2 variable dependence function [0, 1] × [0, 1] → [0, 1]
parameter in Gumbel’s copula that captures
correlations between the random variables X & Y
Super-Linear Relative Frequency Observation
our 2-d continuous log-logistic distribution using Gumbel’s copula

Almond-DG our proposed distribution: the discretized and truncated version of Almond

2 Patterns and Observations

What happens to the number of tweets of a user if her re-tweets triple (Fig-
ure 1(a))? To answer such ’what-if’ scenarios, we study two big, real networks,
from which we extract 5 features for each user; each feature corresponds to the
occurrences of a task:
• Tencent Weibo (W) [10]: one of the largest micro-blogging websites in China.
For each of the ∼ 2.2 million users we extracted ﬁve quantities: the number
of her tweets, retweets, comments, mentions and followees.
• Phonecall dataset (P): phone-call records from a mobile provider in a big
Asian city. For each of the ∼ 3.1 million customers we obtained the number
of her calls, messages, “voice” and “sms” friends, as well as the total minutes
of her phone-calls.

(cid:3)
(cid:2)
In Fig. 2 we present the scatter plots of pairs of tasks. For each dataset we
have n = 5 features. We are giving the plots for n − 1 pairs, instead of
n
,
2
due to space limitations. Each user/customer is a blue point on the plane and is
characterized by the number of times she did tasks ’A’ and ’B’. All plots “suﬀer”
from heavy over-plotting (not visible), especially for small values of occurrences.
So, linear regression fails and we resort to the following solution: we group the
points in logarithmic buckets and compute the mean (red points) of Y given X.
The line E[Y |X = x] is obtained by linear regression on the red points (ignoring
the few last points, where the observations are extremely sparse, possibly due to
the “horizon eﬀect”). As we observe, in all cases the conditional expectation is
a linear function of x. We call this sub- or super-linear relationship between the
frequency of occurrence of the tasks SuRF (Super-linear Relative Frequency).

204

D. Koutra et al.

Observation 1. Deviations from the power-law pattern, as shown in Fig. 2(P2)
are due to outliers, e.g. telemarketers.

The customers within the red ellipse all have about 100 contacts, and 100 phone-
calls, that is about one phone-call per contact. The rest of the population has
many more phone-calls than contacts; thus, this diﬀerence in behavior leads to
the suspicion that the former are telemarketers.

(W1) tweets VS retweets

(W2) tweets VS comments (W3) tweets VS mentions

(cid:1)(cid:2)(cid:3)(cid:4)(cid:2)(cid:3)(cid:5)(cid:6)

(cid:7)(cid:2)(cid:8)(cid:9)(cid:10)(cid:6)

(cid:11)(cid:12)(cid:5)(cid:12)(cid:13)(cid:2)(cid:5)

(cid:14)(cid:15)(cid:10)(cid:3)(cid:2)(cid:16)(cid:4)(cid:12)(cid:17)(cid:17)

(cid:11)(cid:12)(cid:5)(cid:12)(cid:13)(cid:2)(cid:5)

(W4) followees VS retweets

(P1) minutes VS calls

(P2) voice friends VS calls (P3) voice VS sms friends (P4) sms friends VS sms

Fig. 2. SuRF patterns in real datasets (log-log scale, “W”: Weibo, and “P”: Phonecall
network): power-law relationship between competing tasks. In plot (P2), the ’anoma-
lous’ customers in the red ellipse deviate from the power-law pattern, having called
each of their contacts only once; they are probably telemarketers.

3 Almond-DG Distribution

In order to model the observed patterns of the previous section, we need a
probabilistic model; this model must satisfy the properties found in real 2-d
distributions, including the important property found in the previous section,
namely, the conditional average seems to follow a power law (Figure 1(a)). The
rest of the paper focuses on two questions:

– Q2.1: Can we ﬁnd additional properties of such 2-d (and more ambitiously,

higher-d) distributions?

– Q2.2: Can we build a probabilistic model (i.e., ﬁnd a 2-d PDF) that will
ﬁt most real clouds of points? It is clear that the multivariate Gaussian is
heavily violated, even visually from Figure 1(b), and, as we show later, from
the marginals of the x and y axis.

Patterns amongst Competing Tasks Frequencies

205

In summary, the answers are as follows:

– A2.1: Yes, the marginals of almost any attribute in our real datasets has
a skewed distribution, and can be modeled well by a (truncated, digitized)
log-logistic distribution.

– A2.2: Subject to log-logistic marginals, and power-law conditional averages,
a possible candidate 2-d distribution is our proposed ‘Almond’ distribution
(digitized and truncated).

We want a 2-d distribution whose iso-surfaces will resemble the ones in Figure
3. Since they have ’almond’-shape (see Fig. 3(c)), we name our proposed dis-
tribution as the ‘Almond’ distribution, and, after digitization and truncation,
Almond-DG.

The ﬁnal answer is given by the discretized form of Eq. (1) in p. 207, which

we repeat here for convenience:

FALM (x, y; ax, bx, ay, by, θ) = e

(cid:2)
[ln (1+(x/ax)

−

−bx )]θ

+[ln (1+(y/ay)

−by )]θ

(cid:3)1/θ

,

where θ captures the correlation between the random variables (attributes) X
and Y , while ax (ay) and bx (by) determine respectively the location (≈ aver-
age/mode) and the spread (≈ variance).

As we discuss next, this distribution has all the desired properties (the super-
linear relationship, and provably, log-logistic marginals). The approach we follow
for Almond-DG has two steps: (a) modeling the marginal (univariate) distribu-
tions of the tasks, and (b) combining them with the use of the so-called copula.
Before we see the train of thought, we ﬁrst give a property of the marginals (in
response to question Q2, above), and then some deﬁnitions.

For Q1, given the overwhelming number of real-world (univariate) datasets
that exhibit skewed distributions, one would expect that the marginals follow
power-law or log-normal distributions. We found that this is almost true: an
even better ﬁt is provided by the so-called log-logistic distribution, which also
accounts for the top concavity (see Fig. 1(b) p. 202, Fig. 4(a,b) p. 209, Fig. 5
p. 212). We proceed with some deﬁnitions.

3.1 Deﬁnitions

Log-logistic distribution. All the marginals we report match the so-called
log-logistic distribution. Thus, we remind its deﬁnition next.

Deﬁnition 1 (CDF of log-logistic). The log-logistic CDF is given by

FLL(x; a, b) = (1 + (x/a)

−b)

−1, x ≥ 0

where a > 0 is the scale parameter and b > 0 is the shape parameter.

By deﬁnition, a (continuous) random variable X follows the log-logistic distribu-
tion, LL(a, b), iﬀ its logarithm ln X follows the logistic distribution L(ln a, 1/b).
Intuitively, the CDF of the logistic distribution is the sigmoid function – exactly

206

D. Koutra et al.

the one used for logistic regression, artiﬁcial neural networks, modeling prod-
uct market penetration (Bass model), spread of epidemics (SI model), etc. A
second property is that the odds-ratio of the log-logistic distribution, follows a
power-law, and thus it is a straight line in log-log scales (see Fig. 5 in p. 212).
Moreover, the log-logistic distribution is related to the standard Pareto distri-
bution: If X ∼ FLL(x; 1, 1), then the shifted random variable Z = X + 1 follows
the standard Pareto distribution.

Copulas for Modeling Dependence.
Our proposed 2-d log-logistic distribution (Almond-DG) is based on copulas.
So, before we present the details of our distribution, we brieﬂy give the main
notions behind this powerful technique, which has been successfully used in
survival models, ﬁnancial risk management, and decision analysis.

In a nutshell, copulas are used for understanding and modeling dependence
structures between random variables (e.g., X = # of phonecalls, Y = # of sms).
More speciﬁcally, the copula function links the univariate margins (FX , FY ) with
their full multivariate distribution. By construction, the latter (a) has the same
marginals as X and Y , and (b) exhibits the correlation between them. Copu-
las have been proved very popular in statistical applications as they allow one
to easily model and estimate the distribution of random vectors by estimating
the marginals and copula separately. The major diﬀerence between the many
parametric copula families cited in the literature, is their capability of assuming
diﬀerent dependence structures.

More formally, copulas are deﬁned as follows:

Deﬁnition 2 (Copula). Let X, Y be two random variables with marginal
CDFs FX and FY respectively. A copula C(u, v) is a two-variable dependence
function C : [0, 1] × [0, 1] → [0, 1] that produces a joint CDF which captures the
correlation between the FX and FY variables, i.e., F (x, y) = C(FX (x), FY (y)).

The existence of such copula is guaranteed by Sklar’s Theorem [17]. Note that
if X, Y are independent variables, their joint CDF takes the form F (x, y) =
C(FX (x), FY (y)) = FX (x)FY (y). Hence the copula C(u, v) = u v captures their
independence.

The copulas are a powerful tool that can capture any type of dependence:
positive, negative, none (independence). One of the prevailing families of copulas
is the so-called Archimedean family; among its members we choose the so-called
Gumbel’s copula. It has been used successfully in several settings, for example,
to model the dependence between indemnity payment (loss) and an allocated
loss adjustment expense (e.g., lawyer’s fees) in order to calculate reinsurance
premiums [19]. Equally successfully, Gumbel’s copula has been used to model
the rainfall frequency as a joint distribution of rain characteristics (e.g., volume,
peak, duration) [9]. Formally, it is deﬁned as follows:

Deﬁnition 3 (Gumbel’s Copula). Gumbel’s copula is given by C(u, v) =
e−[φ(u)θ +φ(v)θ]1/θ

, where θ ≥ 1, and φ(t) = (− ln t)θ.

Patterns amongst Competing Tasks Frequencies

207

3.2 Proposed Almond-DG Distribution

As we brieﬂy mentioned in the previous section, the log-logistic distribution ﬁts
well the skewness of many real-world datasets. The reasons we pick the (digitized,
truncated) log-logistic for the marginals, are the following:

– real data (#-mentions, #-phonecalls) have a linear log-odd plot (Fig. 5),
– the log-logistic is related to the Pareto distribution, and
– it captures the top concavity observed in numerous real-world 1-d datasets.

So, how can we model the distribution of pairs of tasks (e.g., number of likes and
number of comments) competing for an individual’s resources (e.g., time) now
that we know that the distribution of each task is log-logistic or power-law-like?
It turns out we have a lot of choices, since several 2d-logistic (not log-logistic)
distributions with logistic marginals have been proposed in the literature. How-
ever, the majority of them (Malik and Abraham [12], Fang and Xu [7], etc)
are not suitable in our case, since they are not ﬂexible enough to capture the
dependence between the variables that the real datasets exhibit.

Now we have all the ingredients (log-logistic marginals, a ﬁrst step on how
to combine them), and we only need to make sure that X and Y are positively
correlated.

Notice that, in this section, we start from continuous distributions (like the
log-logistic), and we use their digitized version (f loor()), followed by truncation:
whenever the result is “0” (say, zero phonecalls), we ignore it, since it won’t
register in our real datasets.

Consider two random variables X and Y (like ’number of phonecalls’, and
’count of contacts’ in our phonecall network). How can we model their joint
PDF? Copulas provide a way to do that, when we know the marginals FX and
FY . Sklar’s theorem [17] states that we can always ﬁnd a 2-d function C(u, v)
that can model the joint CDF. We use Gumbel’s copula with parameter θ, and
log-logistic marginals with diﬀerent parameters each. So, our proposed ’Almond’
distribution has 5 parameters and is deﬁned below:

Deﬁnition 4 (’Almond’ Distribution). The CDF of Almond, our proposed
continuous 2-d log-logistic distribution, is given for x, y ≥ 0 by (1), where θ is a
parameter that captures the dependence between X and Y .

FALM (x, y; ax, bx, ay, by, θ) = e

(cid:2)
[ln (1+(x/ax)

−

−bx)]θ

+[ln (1+(y/ay)

−by )]θ

(cid:3)1/θ

(1)

For illustration purposes, in Fig. 3, we give some examples of contour plots of
our Almond Distribution. The following observation is useful for estimating the
parameter θ from the real data.

Observation 2. For a pair of random variables (X, Y ) that follows the Al-
mond distribution, θ can be estimated by θ = (1 − τ )
−1, where τ is Kendall’s
tau rank correlation coeﬃcient between X and Y . In practice, for eﬃciency, we
use Spearman’s coeﬃcient ρ instead of τ .

208

D. Koutra et al.

(a) θ = 1

(b) θ = 1.67

(c) θ = 3.33

(d) θ = 1

(e) θ = 1.26

(f) θ = 3.33

Fig. 3. Contour plots of the Almond distribution with parameters ax = ay = 1,
bx = by = 1 for (a)-(c); and ax = 6.5, ay = 2.1, bx = 1.6, by = 1.27 – as in the
“comments VS mentions” dataset – for (d)-(e)

Lemma 1. The marginals of the Almond distribution are log-logistic distribu-
tions.

Proof. By taking the limit of y to inﬁnity, we obtain the marginal of X:

y→∞ F (x, y) = FX (x; ax, bx) =
lim

1

1 + (x/ax)

−bx

Hence, X ∼ LL(ax, bx). Similarly, we can show that Y ∼ LL(ay, by).

(cid:6)(cid:7)

Observation 3 (Special case). If θ = 1, then C(u, v) = uv, and X, Y are
independent log-logistic random variables. The CDF of Almond becomes then
(cid:5)−1

(cid:4)

F (x, y; ax, bx, ay, by) =

1 + (x/ax)

−bx + (y/ay)

−by + (x/ax)

−bx (y/ay)

−by

.

The deﬁnition of our proposed digitized, truncated distribution follows:

Deﬁnition 5 (Almond-DG Distribution). If (X, Y ) follows the Almond
distribution, then the discrete bivariate random variable (f loor(X), f loor(Y ))
given that X ≥ 1 and Y ≥ 1 follows the Almond-DG distribution.
Essentially, Almond-DG is derived from Almond by discretizing its values and
rejecting the pairs with either X = 0 or Y = 0.

4 Goodness of Fit

In this section, we show the goodness of ﬁt of our Almond-DG distribution
in a qualitative manner. The interested reader may refer to the Appendix for
information about the parameter ﬁtting and generation of data following the
Almond-DG distribution.

Note: Evaluating the goodness of ﬁt for skewed distributions is a rather chal-
lenging task and the majority of methods seem to fail in real data. In [8], Johnson
et al. explore several methods for evaluating the goodness of ﬁt for univariate
Pareto distributions with no clear winner. The diﬃculty in the evaluation in-
creases even more in the case of bivariate distributions, which we are addressing

Patterns amongst Competing Tasks Frequencies

209

(a) Marginal PDF of comments (c) Contour plot of (e) Conditional means in

(real: green / synthetic:blue)

synthetic data

synthetic data

(b) Marginal PDF of mentions
(real: green / synthetic:blue)

(d) Contour plot of (f) Conditional means in

real data

real data

(a) Marginal PDF of tweets
(real: green / synthetic:blue)

(c) Contour plot of (e) Conditional means in

synthetic data

synthetic data

(b) Marginal PDF of retweets (d) Contour plot of (f) Conditional means in
(real: green / synthetic:blue)

real data

real data

Fig. 4. Goodness of ﬁt of Almond-DG to the “mentions VS comments” (above) and
“tweets VS retweets” datasets. (i) the log-logistic distribution ﬁts well the marginals
of the mentions and comments in the real Tencent Weibo network (plots a,b); (ii) the
contour plots of the real (plots d) and synthetic 2-d datasets (plots c) have the same
shape; (iii) both datasets obey the same power-law pattern, as shown in plots e,f.

in this paper. As we see in Fig. 4 , our proposed Almond-DG distribution fares
pretty well. In the ﬁrst column we see the marginal distributions of X (e.g.,
comments) and Y (e.g., mentions), i.e. ln (f requency). The green points repre-
sent the real data, while the blue points correspond to the distribution of the
generated data with the estimated parameters (see Appendix).

Observation 4. The real marginal distributions are captured well by our
Almond-DG distribution, even when they are power-law-like.

The second column of the ﬁgures holds the contour plots of the synthetic (c),
and the real data points (d), while the last column shows the conditional means
in synthetic (e) and real data (f).

210

D. Koutra et al.

Observation 5. The contours of our truncated and digitized Almond-DG dis-
tribution with estimated parameters resemble the real contour lines.

Observation 6. The SuRF pattern is preserved in the synthetic data; the real
and synthetic data have similar power-law slopes.

All in all, Almond-DG captures well the patterns found in the real-world data.

5 Related Work

Power Laws: Power laws have been discovered in numerous cases [3], often
in conjunction with fractals and self-similarities [15]. Some of the most famous
power laws are the Zipf distribution [20] and the Pareto distribution [14]. They
have negative slopes, though. Power laws with positive slopes have also been
discovered (length of coastlines, number of quad-tree blocks versus granularity
[6]), and more recently in graphs ([11], [18], [13]). Akoglu et. al. [1] proposed
the Triple Power Law (3PL), a bivariate distribution, to model reciprocity in
phone-call networks. However, the model is bound to power-law distributions,
which is not always the case in real networks.
Logistic and Log-Logistic Distributions: They have been studied exten-
sively, in the continuous, univariate setting. The multivariate setting has been
studied for the logistic distribution [12]. The discretized version of the univari-
ate case has been shown to be a good ﬁt for the duration of phonecalls by real
users [4]. Earlier work [2] tried to ﬁt discretized lognormals, or the so-called
doubly-Pareto Lognormal [16].

However, none of the above articles provided a solution to our setting, namely,
a 2-d distribution, with an explanation for the super-linearity we observe, and
validation on several, diverse datasets.

6 Conclusions

The contributions are the answers to the questions we posed in the introduction:
Q1: what can we say about the relative frequency of two tasks that compete for
an individual’s resources (e.g., phone calls vs. number of sms)? Q2: how can
we model the corresponding 2-d clouds of points? Q3: how can we put our
observations and developments to practical use.

Speciﬁcally, our contributions are:

1. A1 [Patterns]: Discovery of power law (SuRF) in several, real, diverse

network datasets, on most of their n-choose-2 pairs of attributes/tasks.

2. A2 [Distribution Estimate]: A new distribution, the Almond distribu-
tion, that describes well the skewed multivariate distributions and explains
super-linearity, marginals and conditionals in real, diverse network datasets,
on most of their n-choose-2 pairs of attributes/tasks.

3. A3 [Practical Use]: Illustration that Almond can be used for anomaly

detection (Fig. 2(P2)), clustering and what-if scenarios.

Patterns amongst Competing Tasks Frequencies

211

References

1. Akoglu, L., Vaz de Melo, P.O.S., Faloutsos, C.: Quantifying reciprocity in
large weighted communication networks. In: Tan, P.-N., Chawla, S., Ho, C.K.,
Bailey, J. (eds.) PAKDD 2012, Part II. LNCS (LNAI), vol. 7302, pp. 85–96.
Springer, Heidelberg (2012)

2. Bi, Z., Faloutsos, C., Korn, F.: The “DGX” distribution for mining massive, skewed

data. In: KDD (August. 2001)

3. Clauset, A., Shalizi, C.R., Newman, M.E.J.: Power-law distributions in empirical

data. SIAM Rev. 51(4), 661–703 (2009)

4. Vaz de Melo, P.O.S., Akoglu, L., Faloutsos, C., Loureiro, A.A.F.: Surprising pat-
terns for the call duration distribution of mobile phone users. In: Balc´azar, J.L.,
Bonchi, F., Gionis, A., Sebag, M. (eds.) ECML PKDD 2010, Part III. LNCS
(LNAI), vol. 6323, pp. 354–369. Springer, Heidelberg (2010)

5. Embrechts, P., Lindskog, F., McNeil, A.: Modelling dependence with copulas and
applications to risk management. In: Handbook of Heavy Tailed Distributions in
Finance, pp. 331–385 (2003)

6. Faloutsos, C., Gaede, V.: Analysis of the z-ordering method using the hausdorﬀ

fractal dimension. In: VLDB (September 1996)

7. Fang, K.-T., Xu, J.-L.: A class of multivariate distributions including the multi-
variate logistic. Journal of Mathematical Research and Exposition 9, 91–98 (1989)
8. Johnson, N., Kotz, S., Balakrishnan, N.: Continuous Univariate Distributions, 2nd

edn. Wiley (1995)

9. Karmakar, S., Simonovic, S.: Bivariate ﬂood frequency analysis: Part 1. determi-
nation of marginals by parametric and nonparametric techniques. Journal of Flood
Risk Management 1, 190–200 (2008)

10. KDD-Cup. Tencent Weibo Dataset (2012), http://www.kddcup2012.org
11. Leskovec, J., Kleinberg, J.M., Faloutsos, C.: Graphs over time: densiﬁcation laws,

shrinking diameters and possible explanations. In: KDD, pp. 177–187 (2005)

12. Malik, H.J., Abraham, B.: Multivariate logistic distributions. Annals of Statistics 1,

588–590 (1973)

13. McGlohon, M., Akoglu, L., Faloutsos, C.: Weighted graphs and disconnected com-

ponents: patterns and a generator. In: KDD, pp. 524–532 (2008)

14. Pareto, V.: Oeuvres Completes. Droz, Geneva (1896)
15. Schroeder, M.: Fractals, Chaos, Power Laws: Minutes from an Inﬁnite Paradise.

W.H. Freeman and Company, New York (1991)

16. Seshadri, M., Machiraju, S., Sridharan, A., Bolot, J., Faloutsos, C., Leskovec, J.:
Mobile call graphs: beyond power-law and lognormal distributions. In: KDD, pp.
596–604 (2008)

17. Sklar, A.: Fonctions de r´epartition `a n dimensions et leurs marges. Publ. Inst.

Statist. Univ. Paris 8, 229–231 (1959)

18. Tsourakakis, C.E.: Fast counting of triangles in large real networks without count-

ing: Algorithms and laws. In: ICDM, pp. 608–617 (2008)

19. Valdez, E.A.: Understanding relationships using copulas. North American Actuar-

ial Journal 2, 1–25 (1998)

20. Zipf, G.: Human Behavior and Principle of Least Eﬀort: An Introduction to Human

Ecology. Addison Wesley, Cambridge (1949)

212

D. Koutra et al.

Appendix: Fitting and Data Generation

Most of the estimation methods (e.g., MLE, MOM, etc.) fail when we have
skewed, truncated, and digitized distributions with outliers. Fitting becomes
even more diﬃcult when ﬁtting 2-d skewed distributions.

(cid:6)

Fitting
We propose a fast method for ﬁtting log-
logistic (or power-law-like) data to the univari-
ate log-logistic distribution. It is well known
that if a random variable X follows the lo-
gistic distribution L(μ, σ), then − ln{odd} =
− ln
As depicted in Fig. 5, to ﬁt the data via the
“log-odd plot”: (a) estimate the slope and inter-
cept by applying linear regression on the “log-
σ and intercept=− μ
odd” plot, (b) solve slope= 1
the log-logistic parameters: ax = exp(μ) and bx = 1
σ .

P (X≤x)
P (X>x)

= − ln

FX (x)
1−FX (x)

x−μ
σ .

(cid:6)

(cid:7)

(cid:7)

=

Fig. 5. “Log-odd plot” method
for ﬁtting

σ for μ and σ, and (c) compute

Generation of Synthetic Data
Step 1: Select θ = 1

1−τ , where τ is the Kendall tau rank correlation coeﬃcient.
Note: Since the computation of τ is prohibitive for the large datasets, be-
ing quadratic in the number of points, we use Spearman’s ρ, which is a good
substitute of τ , and robust to outliers in the data.
Step 2. Estimate the parameters using one of the traditional methods of param-
eter estimation (e.g., MLE, MOM) ; otherwise, use the “log-odd plot” method
described above. In our experiments, we mainly used the MLE of the parameters.
Step 3: Generate two independent random variables s and u following the
Uniform distribution U(0, 1) and solve the equation K(t) = u for t, where K(t) =
t − φ(t)
Step 4: Compute x1 = ts1/θ

φ(cid:2)(t) = t − 1
Note: Originally, x1 = φ−1(sφ(t)) and y1 = φ−1((1 − s)φ(t)).

and y1 = t(1−s)1/θ

θ t ln t (see Def. 3).

.

By starting from a general algorithm for copula-based data generation [5] and
using the formulas related to Gumbel’s copula, we obtain the formulas given
in steps 3-5. Essentially, up to this point we have two uniform U(0, 1) random
variables correlated according to Gumbel’s copula.
(cid:5)
,

(cid:5)
and y0 = ln ay − 1
− 1
Step 5: Compute x0 = ln ax − 1
− 1
which follow the logistic distribution L(ln ax, 1
bx ) and L(ln ay, 1
by ) respectively.
U − 1) ∼ L(μ, σ).
Step 6: Find the “coupled”, “digitized” log-logistic variables x = f loor{ex0}
and y = f loor{ey0}, and truncate them by keeping only the (x, y) pairs with
x > 0 and y > 0 .

Note: we use the fact that if U ∼ U, then X = μ − σ ln ( 1

bx ln

by ln

1
x1

1
y1

(cid:4)

(cid:4)

Similar digitization process is traditionally practiced when one wants to shift

from continuous to discrete power law distributions [3].


